<!DOCTYPE html>

<head>
    <meta charset="utf-8" />
    <!-- Set the viewport width to device width for mobile -->
    <meta name="viewport" content="width=device-width" />
    <meta name="google-site-verification" content="EDcbA2ygUZIpaI-1UCxPjZuJhv4gV6ioQTyAlUHvCQE" />
    <title>Yusuf.im - selenium</title>
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://www.yusuf.im/theme/css/normalize.css" />
    <link rel="stylesheet" href="http://www.yusuf.im/theme/css/foundation.min.css" />
    <link rel="stylesheet" href="http://www.yusuf.im/theme/css/style.css" />
    <link rel="stylesheet" href="http://www.yusuf.im/theme/css/pygments.css" />
    <link rel="stylesheet" href="http://www.yusuf.im/theme/css/font-awesome.min.css" />

    <script src="http://www.yusuf.im/theme/js/modernizr.js"></script>
</head>

<body>

    <!-- Nav Bar -->
    <div class="">
        <nav class="top-bar foudation-bar" data-topbar role="navigation" data-options="sticky_on: large">
            <ul class="title-area">
                <li class="name">
                    <h1><a href="http://www.yusuf.im" title="Yusuf.im">Yusuf.im</a></h1>
                </li>
                <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
                <li class="toggle-topbar menu-icon"><a href="#"><span></span></a></li>
            </ul>
            <section class="top-bar-section">
                <!-- Right Nav Section -->
                <ul class="left">
                </ul>
                <!-- Left Nav Section -->
                <ul class="right">
                            <li> <a href="mailto:contact@yusuf.im"><i class="fa fa-envelope"></i></a></li>
                            <li><a href="http://www.twitter.com/iunary/"><i class="fa fa-twitter"></i></a></li>
                            <li> <a href="http://yusuf.im/feeds/all.atom.xml"><i class="fa fa-feed"></i></a></li>
                     <li><a href="http://www.yusuf.im/pages/about/" class="">About</a></li>
                 </ul>
            </section>
        </nav>
    </div>

    <!-- End Nav -->
    <!-- Main Page Content and Sidebar -->
    <div class="row">
        <!-- Main Blog Content -->
        <div class="large-9 columns">
        
        

            <article>
                <a href="http://www.yusuf.im/posts/2015/Mar/04/django-views-automated-testing-with-selenium/"><h3 class="article-title">Django views automated testing with&nbsp;selenium</h3></a>
<h6 class="subheader" title="2015-03-04T08:02:00+00:00">Wed 04 March 2015
</h6>


<p>In this story we gonna learn how to automate your testing against django views using&nbsp;selenium.</p>
<h3>Selenium</h3>
<p>Selenium is set of tools for automating browsers. It provides a lot of options and APIs for automating user interaction with the web applications. It is used for testing web applications, web scraping and automating boring repetitive&nbsp;tasks.</p>
<p>Selenium supports automation on all the major browsers including Firefox, Internet Explorer,Google Chrome, Safari, and Opera. Selenium can be also ran on android&nbsp;devices.</p>
<p>In our story we gonna use selenium WebDriver with Firefox for automating a django views test same as we were doing it&nbsp;manually.</p>
<h3>Installation</h3>
<p>Selenium WebDriver is available for various programming languages. on our case we gonna use python. To install the selenium package in a simple way, we gonna use&nbsp;pip.</p>
<div class="highlight"><pre>  <span class="nv">$ </span>sudo pip install selenium
</pre></div>


<p>Now our package is installed. Then, we gonna demonstrate how to write a functional test for a django&nbsp;project.</p>
<h3>Demo</h3>
<p>Our environment is ready now for writing our&nbsp;tests.</p>
<p>For a quick demo i gonna write an automated test for a the account app to create a new user&nbsp;account.</p>
<p>We will inherit LiveServerTestCase class that gonna run automatically a test server in the background. Then, our selenium tests will be ran against that server. We can run our test simply by using the following command by replacing appname with your django app&nbsp;name.</p>
<div class="highlight"><pre><span class="nv">$ </span>python manage.py <span class="nb">test </span>appname
</pre></div>


<p>In each django app there is a tests.py file dedicated to write and run our test. Im using the follow snippet in my tests&nbsp;file.</p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">LiveServerTestCase</span>
<span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="kn">import</span> <span class="n">Keys</span>


<span class="k">class</span> <span class="nc">AccountTestCase</span><span class="p">(</span><span class="n">LiveServerTestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selenium</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">AccountTestCase</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setUp</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selenium</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">AccountTestCase</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">tearDown</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">test_register</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">selenium</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selenium</span>
        <span class="c">#Opening the link we want to test</span>
        <span class="n">selenium</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;http://127.0.0.1:8000/accounts/register/&#39;</span><span class="p">)</span>
        <span class="c">#find the form element</span>
        <span class="n">first_name</span> <span class="o">=</span> <span class="n">selenium</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">&#39;id_first_name&#39;</span><span class="p">)</span>
        <span class="n">last_name</span> <span class="o">=</span> <span class="n">selenium</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">&#39;id_last_name&#39;</span><span class="p">)</span>
        <span class="n">username</span> <span class="o">=</span> <span class="n">selenium</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">&#39;id_username&#39;</span><span class="p">)</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">selenium</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">&#39;id_email&#39;</span><span class="p">)</span>
        <span class="n">password1</span> <span class="o">=</span> <span class="n">selenium</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">&#39;id_password1&#39;</span><span class="p">)</span>
        <span class="n">password2</span> <span class="o">=</span> <span class="n">selenium</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">&#39;id_password2&#39;</span><span class="p">)</span>

        <span class="n">submit</span> <span class="o">=</span> <span class="n">selenium</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s">&#39;register&#39;</span><span class="p">)</span>

        <span class="c">#Fill the form with data</span>
        <span class="n">first_name</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">&#39;Yusuf&#39;</span><span class="p">)</span>
        <span class="n">last_name</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">&#39;Unary&#39;</span><span class="p">)</span>
        <span class="n">username</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">&#39;unary&#39;</span><span class="p">)</span>
        <span class="n">email</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">&#39;yusuf@qawba.com&#39;</span><span class="p">)</span>
        <span class="n">password1</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">&#39;123456&#39;</span><span class="p">)</span>
        <span class="n">password2</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">&#39;123456&#39;</span><span class="p">)</span>

        <span class="c">#submitting the form</span>
        <span class="n">submit</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">RETURN</span><span class="p">)</span>

        <span class="c">#check the returned result</span>
        <span class="k">assert</span> <span class="s">&#39;Check your email&#39;</span> <span class="ow">in</span> <span class="n">selenium</span><span class="o">.</span><span class="n">page_source</span>
</pre></div>


<p>As we see, the code is so simple and all that&#8217;s is running our&nbsp;test.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/VMoS1BXWvF4" frameborder="0" allowfullscreen></iframe>

<h3>Links</h3>
<ul>
<li>https://docs.djangoproject.com/en/1.4/topics/testing/#live-test-server</li>
<li>https://code.google.com/p/chromedriver/downloads/list</li>
<li>https://selenium-python.readthedocs.org/</li>
</ul><p class="subheader">Category: <a href="http://www.yusuf.im/category/coding.html">coding</a>

    Tagged: 
    <a href="http://www.yusuf.im/tag/django.html">django </a>
    <a href="http://www.yusuf.im/tag/selenium.html">selenium </a>
    <a href="http://www.yusuf.im/tag/python.html">python </a>
</p>



            </article>

<div class="pagination-centered">
<h6 class="subheader">Page 1 of 1</h6>

<p>

</p>
</div>



            <!-- /#posts-list -->

        </div>
        <!-- End Main Content -->
        <!-- Sidebar -->
        <aside class="large-3 columns">
            <h5 class="sidebar-title">Site</h5>
            <ul class="side-nav">
                <li><a href="http://www.yusuf.im/archives.html">Archives</a>
                    <li><a href="http://www.yusuf.im/tags.html">Tags</a>              </ul>
            <h5 class="sidebar-title">Categories</h5>
            <ul class="side-nav">
                <li><a href="http://www.yusuf.im/category/coding.html">coding</a></li>
                <li><a href="http://www.yusuf.im/category/devops.html">devops</a></li>
                <li><a href="http://www.yusuf.im/category/misc.html">misc</a></li>
            </ul>
          </aside>
        <!-- End Sidebar -->
    </div>
    <!-- End Main Content and Sidebar -->
    <!-- Footer -->
    <footer class="row">
        <div class="large-12 columns">
            <hr />
            <div class="row">
                <div class="large-12 columns">
                    <!--                  <p>Yusuf.im by Yusuf</p> -->
                    <p class="text-center">&copy; Copyright 2015 by Yusuf </p>
                    <p class="text-center">Powered by <a href="http://pypi.python.org/pypi/pelican/">Pelican</a>.</p>
                </div>
            </div>
        </div>
    </footer>
    <script src="http://www.yusuf.im/theme/js/jquery.js"></script>
    <script src="http://www.yusuf.im/theme/js/foundation.min.js"></script>
    <script src="http://www.yusuf.im/theme/js/jquery.ajaxchimp.js"></script>
    <script>
    jQuery(document).ready(function($) {

        $(document).foundation();

        $('#subscribe').ajaxChimp({
            language: 'eng',
            url: 'http://qawba.us9.list-manage.com/subscribe/post?u=832e3e0e3e4e80a76d49721b5&id=3e9cf9bbd7'
        });

        $.ajaxChimp.translations.eng = {
            'submit': 'Submitting...',
            0: '<i class="fa fa-check"></i> We will be in touch soon!',
            1: '<i class="fa fa-warning"></i> You must enter a valid e-mail address.',
            2: '<i class="fa fa-warning"></i> E-mail address is not valid.',
            3: '<i class="fa fa-warning"></i> E-mail address is not valid.',
            4: '<i class="fa fa-warning"></i> E-mail address is not valid.',
            5: '<i class="fa fa-warning"></i> E-mail address is not valid.'
        };

    });
    </script>
     <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-60724386-1', 'auto');
      ga('send', 'pageview');

    </script>    
</body>

</html>